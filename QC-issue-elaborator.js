javascript:!function(){if(window.qcIssueElaborator){window.qcIssueElaborator.toggle();return}window.qcIssueElaborator={isVisible:!1,isMinimized:!1,overlay:null,templates:{"Content Mismatch":{fields:[{name:"catContent",label:"CAT Tracker Content",placeholder:"Enter content from CAT tracker"},{name:"olpContent",label:"OLP Site Content",placeholder:"Enter content from OLP site"}],template:"Content mismatch: CAT tracker shows: \"[catContent]\". OLP site displays: \"[olpContent]\"."},"Text Formatting - Missing Bold":{fields:[{name:"text",label:"Text That Should Be Bold",placeholder:"Enter the text that appears bold in CAT tracker"}],template:"Bold formatting is missing. The text \"[text]\" appears bold in the CAT tracker but lacks bold formatting on the OLP site."},"Additional Descriptive Text":{fields:[{name:"additionalText",label:"Additional Text Found",placeholder:"Describe the extra descriptive text"}],template:"Additional descriptive text found on OLP site that is not present in CAT tracker: \"[additionalText]\"."},"Description Content Mismatch":{fields:[{name:"catDescription",label:"CAT Tracker Description",placeholder:"Enter description from CAT tracker"},{name:"olpDescription",label:"OLP Site Description",placeholder:"Enter description from OLP site"}],template:"Description content mismatch. CAT tracker description: \"[catDescription]\". OLP site description: \"[olpDescription]\"."},"Missing Assets":{fields:[{name:"assetName",label:"Asset Name",placeholder:"Enter the name of the missing asset"},{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details",optional:!0}],template:"Asset is missing from OLP site. This \"[assetName]\" asset is present in CAT tracker but not available on the OLP site. [context]"},"Asset Naming Mismatch":{fields:[{name:"catName",label:"CAT Tracker Asset Name",placeholder:"Enter asset name from CAT tracker"},{name:"olpName",label:"OLP Site Asset Name",placeholder:"Enter asset name from OLP site"}],template:"Asset naming mismatch. CAT tracker shows \"[catName]\" but OLP site displays \"[olpName]\"."},"Additional Assets":{fields:[{name:"extraAssetName",label:"Extra Asset Name",placeholder:"Enter the additional asset name"},{name:"description",label:"Asset Description",placeholder:"Brief description of the extra asset"}],template:"Additional asset found on OLP site. The asset \"[extraAssetName]\"[description] appears on the OLP site but is not referenced in the CAT tracker."},"Asset Sequencing Issue":{fields:[{name:"catPosition",label:"CAT Tracker Position",placeholder:"e.g., Position 3"},{name:"olpPosition",label:"OLP Site Position",placeholder:"e.g., Position 5"}],template:"Asset sequencing issue. Asset appears at [olpPosition] on OLP site but is specified at [catPosition] in CAT tracker."},"Toggle Enabled When Should Be Disabled":{fields:[{name:"toggleName",label:"Toggle/Feature Name",placeholder:"Enter the name of the toggle or feature"},{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details about the toggle",optional:!0}],template:"Presentation toggle inconsistency. The \"[toggleName]\" toggle is enabled on OLP site but should be disabled according to CAT tracker. [context]"},"Toggle Disabled When Should Be Enabled":{fields:[{name:"toggleName",label:"Toggle/Feature Name",placeholder:"Enter the name of the toggle or feature"},{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details about the toggle",optional:!0}],template:"Presentation toggle inconsistency. The \"[toggleName]\" toggle is disabled on OLP site but should be enabled according to CAT tracker. [context]"},"Asset Opens Blank Page":{fields:[{name:"expectedDestination",label:"Expected Destination",placeholder:"Expected unit opener page or destination"}],template:"Navigation issue. Asset opens to a blank page instead of the designated [expectedDestination]."},"Asset Links to Wrong Page":{fields:[{name:"actualDestination",label:"Actual Destination",placeholder:"Where the link currently goes"},{name:"expectedDestination",label:"Expected Destination",placeholder:"Where the link should go"}],template:"Navigation issue. Asset link directs to [actualDestination] instead of the correct destination [expectedDestination]."},"Missing Hyperlink for Placeholder":{fields:[{name:"placeholderText",label:"Placeholder Text",placeholder:"Enter the {placeholder} text"},{name:"expectedLink",label:"Expected Link Destination",placeholder:"Where the hyperlink should lead"}],template:"Missing hyperlink. The placeholder text \"[placeholderText]\" exists in CAT tracker with a hyperlink to [expectedLink], but appears as plain text on OLP site."},"Additional Placeholder Text":{fields:[{name:"placeholderText",label:"Additional Placeholder Text",placeholder:"Enter the {placeholder} text found"},{name:"context",label:"Context (Optional)",placeholder:"Additional context about where this appears",optional:!0}],template:"Additional placeholder text found on OLP site. The placeholder \"[placeholderText]\" appears on the OLP site but is not present in CAT tracker. [context]"},"Lesson Placement Mismatch":{fields:[{name:"catSequence",label:"CAT Tracker Sequence",placeholder:"e.g., Lesson 1, 2, 3"},{name:"olpSequence",label:"OLP Site Sequence",placeholder:"e.g., Lesson 2, 1, 3"}],template:"Lesson placement mismatch. CAT tracker shows sequence: [catSequence], but OLP site displays: [olpSequence]."},"Lesson Title Inconsistency":{fields:[{name:"catTitle",label:"CAT Tracker Title",placeholder:"Enter lesson title from CAT tracker"},{name:"olpTitle",label:"OLP Site Title",placeholder:"Enter lesson title from OLP site"}],template:"Lesson title inconsistency. CAT tracker shows \"[catTitle]\" but OLP site displays \"[olpTitle]\"."},"Lesson Numbering Error":{fields:[{name:"catNumber",label:"CAT Tracker Number",placeholder:"e.g., Lesson 5"},{name:"olpNumber",label:"OLP Site Number",placeholder:"e.g., Lesson 3"}],template:"Lesson numbering error. CAT tracker shows \"[catNumber]\" but OLP site displays \"[olpNumber]\"."},"Item with Strikethrough Still Visible":{fields:[{name:"itemDescription",label:"Strikethrough Item",placeholder:"Describe the item that should be removed"}],template:"Item with strikethrough is still visible. The item \"[itemDescription]\" is marked with strikethrough in CAT tracker but still appears on the OLP site."},"Title Icon Mismatch":{fields:[{name:"catIcon",label:"CAT Tracker Icon",placeholder:"Describe the icon from CAT tracker"},{name:"olpIcon",label:"OLP Site Icon",placeholder:"Describe the icon on OLP site"}],template:"Title icon does not match. CAT tracker shows [catIcon] but OLP site displays [olpIcon]."},"Set as Educator Only - Missing":{fields:[{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details",optional:!0}],template:"\"Set as Educator Only\" is missing. This setting is marked in the CAT tracker but not applied on the OLP site. [context]"},"Set as Educator Only - Added Incorrectly":{fields:[{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details",optional:!0}],template:"\"Set as Educator Only\" is added incorrectly. This setting is applied on the OLP site but not marked in the CAT tracker. [context]"},"Set as Student Material - Missing":{fields:[{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details",optional:!0}],template:"\"Set as Student Material\" is missing. This setting should be applied based on the CAT tracker but is not marked on the OLP site. [context]"},"Set as Student Material - Added Incorrectly":{fields:[{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details",optional:!0}],template:"\"Set as Student Material\" is added incorrectly. This setting is applied on the OLP site but not indicated in the CAT tracker. [context]"},"Add to Presentation - Missing":{fields:[{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details",optional:!0}],template:"\"Add to Presentation\" is missing. This option should be included as per the CAT tracker but is missing on the OLP site. [context]"},"Add to Presentation - Added Incorrectly":{fields:[{name:"context",label:"Additional Context (Optional)",placeholder:"Any relevant details",optional:!0}],template:"\"Add to Presentation\" is added incorrectly. This option is applied on the OLP site but not listed in the CAT tracker. [context]"},"Description Spelling/Grammar Error":{fields:[{name:"errorText",label:"Text with Error",placeholder:"Enter the text containing the error"},{name:"correctedText",label:"Corrected Text",placeholder:"Enter the correct version from CAT tracker"}],template:"Description has a spelling or grammar error. OLP site shows: \"[errorText]\". CAT tracker shows: \"[correctedText]\"."},"Link Opens Wrong Page":{fields:[{name:"actualPage",label:"Actual Page Opened",placeholder:"Where the link currently goes"},{name:"expectedPage",label:"Expected Page",placeholder:"Where it should go per Link Instructions"}],template:"Link opens the wrong page. Link goes to [actualPage] but should open [expectedPage] as described in the CAT tracker Link Instructions."},"Link Goes to Wrong Asset":{fields:[{name:"actualAsset",label:"Actual Asset Opened",placeholder:"What asset currently opens"},{name:"expectedAsset",label:"Expected Asset",placeholder:"What asset should open per CAT tracker"}],template:"Link goes to the wrong asset. Link opens [actualAsset] but should open [expectedAsset] as listed in the CAT tracker."},"Hyperlink Text Mismatch":{fields:[{name:"catLinkText",label:"CAT Tracker Link Text",placeholder:"Link text from CAT tracker"},{name:"olpLinkText",label:"OLP Site Link Text",placeholder:"Link text from OLP site"}],template:"Hyperlink text does not match. CAT tracker shows \"[catLinkText]\" but OLP site displays \"[olpLinkText]\"."},"Hyperlink Text Extra Words":{fields:[{name:"catLinkText",label:"CAT Tracker Link Text",placeholder:"Original link text from CAT tracker"},{name:"olpLinkText",label:"OLP Site Link Text",placeholder:"Link text with extra words from OLP site"}],template:"Hyperlink text includes extra words. CAT tracker shows \"[catLinkText]\" but OLP site displays \"[olpLinkText]\" with additional words."}},init:function(){this.createStyles();this.createOverlay();this.show()},createStyles:function(){let style=document.createElement("style");style.textContent=`.qc-elaborator-overlay {position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);width: 30vw;max-width: 90vw;max-height: 85vh;background: white;border: 2px solid #333;border-radius: 8px;box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);z-index: 10000;font-family: Arial, sans-serif;font-size: 14px;overflow: hidden;display: none;transition: all 0.3s ease;}.qc-elaborator-overlay.minimized {height: 60px;overflow: hidden;}.qc-elaborator-header {background: #2c3e50;color: white;padding: 12px 16px;display: flex;justify-content: space-between;align-items: center;cursor: move;}.qc-elaborator-title {font-weight: bold;font-size: 16px;}.qc-elaborator-controls {display: flex;gap: 4px;}.qc-elaborator-minimize, .qc-elaborator-close {background: none;border: none;color: white;font-size: 18px;cursor: pointer;padding: 0;width: 24px;height: 24px;display: flex;align-items: center;justify-content: center;}.qc-elaborator-minimize:hover, .qc-elaborator-close:hover {background: rgba(255, 255, 255, 0.2);border-radius: 3px;}.qc-elaborator-content {padding: 16px;max-height: calc(85vh - 60px);overflow-y: auto;transition: opacity 0.3s ease;}.qc-elaborator-overlay.minimized .qc-elaborator-content {opacity: 0;pointer-events: none;}.qc-elaborator-category-list {list-style: none;padding: 0;margin: 0;}.qc-elaborator-category-item {padding: 10px 12px;border: 1px solid #ddd;margin-bottom: 4px;cursor: pointer;border-radius: 4px;background: #f8f9fa;transition: background-color 0.2s;font-size: 13px;line-height: 1.3;}.qc-elaborator-category-item:hover {background: #e9ecef;}.qc-elaborator-form {display: none;}.qc-elaborator-field {margin-bottom: 12px;}.qc-elaborator-label {display: block;margin-bottom: 4px;font-weight: bold;color: #333;font-size: 13px;}.qc-elaborator-input {width: 100%;padding: 8px;border: 1px solid #ddd;border-radius: 4px;font-size: 13px;box-sizing: border-box;}.qc-elaborator-textarea {min-height: 60px;resize: vertical;font-family: Arial, sans-serif;}.qc-elaborator-buttons {display: flex;gap: 8px;margin-top: 16px;}.qc-elaborator-button {padding: 10px 16px;border: none;border-radius: 4px;cursor: pointer;font-size: 14px;transition: background-color 0.2s;}.qc-elaborator-primary {background: #103b69ff;color: white;flex: 1;}.qc-elaborator-primary:hover {background: #0056b3;}.qc-elaborator-secondary {background: #6c757d;color: white;}.qc-elaborator-secondary:hover {background: #545b62;}.qc-elaborator-success {background: #28a745;color: white;text-align: center;padding: 8px;margin-top: 8px;border-radius: 4px;display: none;}.qc-elaborator-icon {position: fixed;bottom: 20px;right: 20px;width: 60px;height: 60px;background: #12375eff;border-radius: 50%;cursor: pointer;display: flex;align-items: center;justify-content: center;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);z-index: 9999;color: white;font-size: 24px;font-weight: bold;transition: background-color 0.2s;}.qc-elaborator-icon:hover{background: #0056b3;}.qc-category-group {margin-bottom: 16px;}.qc-category-group-title {font-weight: bold;color: #2c3e50;font-size: 14px;margin-bottom: 8px;padding: 4px 0;border-bottom: 1px solid #eee;}`;document.head.appendChild(style)},createOverlay:function(){let icon=document.createElement("div");icon.className="qc-elaborator-icon";icon.textContent="QC";icon.title="QC Issue Elaborator";icon.addEventListener("click",()=>this.toggle());document.body.appendChild(icon);let overlay=document.createElement("div");overlay.className="qc-elaborator-overlay";let header=document.createElement("div");header.className="qc-elaborator-header";let title=document.createElement("div");title.className="qc-elaborator-title";title.textContent="QC Issue Elaborator";let controls=document.createElement("div");controls.className="qc-elaborator-controls";let minimizeBtn=document.createElement("button");minimizeBtn.className="qc-elaborator-minimize";minimizeBtn.textContent="−";minimizeBtn.title="Minimize";minimizeBtn.addEventListener("click",()=>this.toggleMinimize());let closeBtn=document.createElement("button");closeBtn.className="qc-elaborator-close";closeBtn.textContent="×";closeBtn.title="Close";closeBtn.addEventListener("click",()=>this.hide());controls.appendChild(minimizeBtn);controls.appendChild(closeBtn);header.appendChild(title);header.appendChild(controls);let content=document.createElement("div");content.className="qc-elaborator-content";let categoryList=document.createElement("div");categoryList.className="qc-elaborator-category-list";let categories={"Content Issues":["Content Mismatch","Text Formatting - Missing Bold","Additional Descriptive Text","Description Content Mismatch","Description Spelling/Grammar Error"],"Asset Issues":["Missing Assets","Asset Naming Mismatch","Additional Assets","Asset Sequencing Issue"],"Lesson Issues":["Lesson Placement Mismatch","Lesson Title Inconsistency","Lesson Numbering Error","Item with Strikethrough Still Visible","Title Icon Mismatch"],"Settings Issues":["Set as Educator Only - Missing","Set as Educator Only - Added Incorrectly","Set as Student Material - Missing","Set as Student Material - Added Incorrectly","Add to Presentation - Missing","Add to Presentation - Added Incorrectly"],"Link Issues":["Asset Opens Blank Page","Asset Links to Wrong Page","Missing Hyperlink for Placeholder","Additional Placeholder Text","Link Opens Wrong Page","Link Goes to Wrong Asset","Hyperlink Text Mismatch","Hyperlink Text Extra Words"]};Object.keys(categories).forEach(groupName=>{let group=document.createElement("div");group.className="qc-category-group";let groupTitle=document.createElement("div");groupTitle.className="qc-category-group-title";groupTitle.textContent=groupName;group.appendChild(groupTitle);let groupList=document.createElement("ul");groupList.style.listStyle="none";groupList.style.padding="0";groupList.style.margin="0 0 0 8px";categories[groupName].forEach(categoryName=>{let item=document.createElement("li");item.className="qc-elaborator-category-item";item.textContent=categoryName;item.addEventListener("click",()=>this.showForm(categoryName));groupList.appendChild(item)});group.appendChild(groupList);categoryList.appendChild(group)});content.appendChild(categoryList);let form=document.createElement("div");form.className="qc-elaborator-form";form.id="qc-elaborator-form";content.appendChild(form);overlay.appendChild(header);overlay.appendChild(content);document.body.appendChild(overlay);this.overlay=overlay;this.makeDraggable(overlay,header)},makeDraggable:function(element,handle){let isDragging=!1;let currentX,currentY,initialX,initialY;let xOffset=0,yOffset=0;handle.addEventListener("mousedown",e=>{if(e.target===handle||handle.contains(e.target)){initialX=e.clientX-xOffset;initialY=e.clientY-yOffset;if(e.target===handle||e.target.className==="qc-elaborator-title"){isDragging=!0}}});document.addEventListener("mousemove",e=>{if(isDragging){e.preventDefault();currentX=e.clientX-initialX;currentY=e.clientY-initialY;xOffset=currentX;yOffset=currentY;element.style.transform=`translate(${currentX}px, ${currentY}px)`}});document.addEventListener("mouseup",()=>{initialX=currentX;initialY=currentY;isDragging=!1})},clearElement:function(element){while(element.firstChild){element.removeChild(element.firstChild)}},showForm:function(categoryName){let formContainer=document.getElementById("qc-elaborator-form");let template=this.templates[categoryName];this.clearElement(formContainer);let backBtn=document.createElement("button");backBtn.className="qc-elaborator-button qc-elaborator-secondary";backBtn.textContent="← Back to Categories";backBtn.style.marginBottom="16px";backBtn.addEventListener("click",()=>this.showCategories());let heading=document.createElement("h3");heading.textContent=categoryName;heading.style.margin="0 0 16px 0";heading.style.color="#333";heading.style.fontSize="15px";formContainer.appendChild(backBtn);formContainer.appendChild(heading);let form=document.createElement("form");form.addEventListener("submit",e=>{e.preventDefault();this.generateAndCopy(categoryName)});template.fields.forEach(field=>{let fieldDiv=document.createElement("div");fieldDiv.className="qc-elaborator-field";let label=document.createElement("label");label.className="qc-elaborator-label";label.textContent=field.label;let input=(field.name==="description"||field.name==="context"||field.name==="additionalText"||field.name.includes("Content")||field.name.includes("Description"))?document.createElement("textarea"):document.createElement("input");input.className="qc-elaborator-input";if(input.tagName==="TEXTAREA"){input.className+=" qc-elaborator-textarea"}
input.name=field.name;input.placeholder=field.placeholder;input.required=!field.optional;fieldDiv.appendChild(label);fieldDiv.appendChild(input);form.appendChild(fieldDiv)});let buttonDiv=document.createElement("div");buttonDiv.className="qc-elaborator-buttons";let submitBtn=document.createElement("button");submitBtn.type="submit";submitBtn.className="qc-elaborator-button qc-elaborator-primary";submitBtn.textContent="Generate & Copy to Clipboard";buttonDiv.appendChild(submitBtn);form.appendChild(buttonDiv);let successDiv=document.createElement("div");successDiv.className="qc-elaborator-success";successDiv.textContent="Copied to clipboard!";form.appendChild(successDiv);formContainer.appendChild(form);document.querySelector(".qc-elaborator-category-list").style.display="none";formContainer.style.display="block"},showCategories:function(){document.querySelector(".qc-elaborator-category-list").style.display="block";document.getElementById("qc-elaborator-form").style.display="none"},cleanCATContent:function(content){return content.replace(/<[^>]*>/g,"").replace(/\{[^}]*\}/g,"").replace(/\s+/g," ").trim()},generateAndCopy:function(categoryName){let template=this.templates[categoryName];let form=document.querySelector("#qc-elaborator-form form");let formData=new FormData(form);let result=template.template;template.fields.forEach(field=>{let value=formData.get(field.name)||"";if(field.name.includes("cat")||field.name.includes("Cat")||field.name.toLowerCase().includes("tracker")){value=this.cleanCATContent(value)}
let escapedValue=value.replace(/\[/g,"\\[").replace(/\]/g,"\\]");result=result.replace(new RegExp("\\["+field.name+"\\]","g"),escapedValue)});this.copyToClipboard(result);let successDiv=document.querySelector(".qc-elaborator-success");successDiv.style.display="block";setTimeout(()=>{successDiv.style.display="none"},2000)},copyToClipboard:function(text){if(navigator.clipboard&&window.isSecureContext){navigator.clipboard.writeText(text).catch(()=>{this.fallbackCopyToClipboard(text)})}else{this.fallbackCopyToClipboard(text)}},fallbackCopyToClipboard:function(text){let textarea=document.createElement("textarea");textarea.value=text;textarea.style.position="fixed";textarea.style.left="-999999px";textarea.style.top="-999999px";document.body.appendChild(textarea);textarea.focus();textarea.select();try{document.execCommand("copy")}catch(err){console.error("Failed to copy text: ",err)}
document.body.removeChild(textarea)},show:function(){if(this.overlay){this.overlay.style.display="block";this.isVisible=!0;this.showCategories()}},hide:function(){if(this.overlay){this.overlay.style.display="none";this.isVisible=!1;this.isMinimized=!1;this.overlay.classList.remove("minimized")}},toggle:function(){if(this.isVisible){this.hide()}else{this.show()}},toggleMinimize:function(){if(this.overlay){this.isMinimized=!this.isMinimized;if(this.isMinimized){this.overlay.classList.add("minimized");this.overlay.querySelector(".qc-elaborator-minimize").textContent="+";this.overlay.querySelector(".qc-elaborator-minimize").title="Restore"}else{this.overlay.classList.remove("minimized");this.overlay.querySelector(".qc-elaborator-minimize").textContent="−";this.overlay.querySelector(".qc-elaborator-minimize").title="Minimize"}}}};window.qcIssueElaborator.init()}()
